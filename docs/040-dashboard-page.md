# 040: ダッシュボードページ

## 概要

有料ユーザー向けのダッシュボードページを実装する。Google Sheets連携状況、監視設定一覧、取得ログの3セクションで構成する。

## 背景

有料機能（監視・バッチ・Sheets連携）を一元管理できるダッシュボードが必要。

## 要件

### ダッシュボードレイアウト（`/dashboard`）

#### Google Sheets連携セクション

- [ ] 連携状態の表示
  - 未連携:「Googleドライブ連携」ボタン
  - 連携済み: スプレッドシート名 + 「シートを開く」リンク + 「連携解除」ボタン
- [ ] 連携状態のリアルタイム反映

#### 監視設定セクション

- [ ] 設定件数の表示
- [ ] 「+ 設定を追加」ボタン → MonitorWizard 起動
- [ ] 設定カード一覧（MonitorSettingCard 使用）
- [ ] 空状態:「監視設定を追加してデータ収集を開始しましょう」

#### 取得ログセクション

- [ ] 最新ログ5件の表示
- [ ] 各ログ: 実行日時 / プラットフォーム / キーワード / ステータス / 件数
- [ ] 「すべて見る」リンク → `/dashboard/logs`
- [ ] 空状態:「まだ取得ログはありません」

### ログ詳細ページ（`/dashboard/logs`）

- [ ] 取得ログの一覧表示（ページネーション付き）
- [ ] プラットフォーム・ステータスでフィルタリング
- [ ] 日時の降順で表示
- [ ] エラーログの詳細表示（エラーメッセージ展開）

### 設定ページ（`/dashboard/settings`）

- [ ] 監視設定の全一覧表示
- [ ] フィルタリング（プラットフォーム、有効/無効）
- [ ] 一括操作（将来拡張用の基盤）

### アクセス制御

- [ ] 未認証ユーザーは `/auth/login` にリダイレクト
- [ ] 無料ユーザーはダッシュボードにアクセス可能だがアップグレード案内を表示

## 受け入れ条件

- [ ] `/dashboard` にログイン済みでアクセスできる
- [ ] 未ログインで `/dashboard` にアクセスするとログインページにリダイレクトされる
- [ ] Google Sheets連携状態が正しく表示される
- [ ] 監視設定の一覧が表示される
- [ ] 最新の取得ログが表示される
- [ ] `/dashboard/logs` でログ一覧が確認できる
- [ ] レスポンシブ対応

## 依存関係

- 029（Supabase Auth）
- 030（認証UI）
- 037（Google OAuth — 連携状態表示）
- 039（監視設定UI — 設定カード・ウィザード）

## 関連ファイル

- `src/app/dashboard/page.tsx`（新規）
- `src/app/dashboard/logs/page.tsx`（新規）
- `src/app/dashboard/settings/page.tsx`（新規）
- `src/app/dashboard/layout.tsx`（新規 — ダッシュボード共通レイアウト）
- `src/components/dashboard/GoogleSheetsStatus.tsx`（新規）
- `src/components/dashboard/FetchLogList.tsx`（新規）
