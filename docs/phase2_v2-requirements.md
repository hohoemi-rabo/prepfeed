# PrepFeed ä»•æ§˜æ›¸ï¼ˆPhase 2 å®Œå…¨ç‰ˆï¼‰

**ã‚µãƒ¼ãƒ“ã‚¹å**: PrepFeed  
**ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«**: é›†ã‚ã¦ã€åˆ†æã—ã¦ã€ãƒã‚¿ã«ã™ã‚‹ã€‚  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.1.0  
**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 2 è¨­è¨ˆå®Œäº†  
**ãƒ™ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: YouTubeã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆPhase 1ï¼‰  
**æœ¬ç•ªURL**: https://prepfeed.vercel.app

---

## ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ](#2-ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ)
3. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#3-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
4. [ã‚¤ãƒ³ãƒ•ãƒ©æˆ¦ç•¥](#4-ã‚¤ãƒ³ãƒ•ãƒ©æˆ¦ç•¥)
5. [èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ](#5-èªè¨¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ)
6. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#6-ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
7. [APIä»•æ§˜](#7-apiä»•æ§˜)
8. [Gemini AI åˆ†æè¨­è¨ˆ](#8-gemini-ai-åˆ†æè¨­è¨ˆ)
9. [ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–è¨­è¨ˆ](#9-ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–è¨­è¨ˆ)
10. [ãƒãƒƒãƒå‡¦ç†è¨­è¨ˆ](#10-ãƒãƒƒãƒå‡¦ç†è¨­è¨ˆ)
11. [Google Sheets ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ](#11-google-sheets-ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ)
12. [ãƒšãƒ¼ã‚¸ãƒ»UIè¨­è¨ˆ](#12-ãƒšãƒ¼ã‚¸uiè¨­è¨ˆ)
13. [å¤–éƒ¨APIä»•æ§˜](#13-å¤–éƒ¨apiä»•æ§˜)
14. [å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](#14-å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—)
15. [å°†æ¥æ‹¡å¼µ](#15-å°†æ¥æ‹¡å¼µ)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

PrepFeed ã¯ã€YouTubeãƒ»Qiitaãƒ»Zenn ã®ãƒ‡ãƒ¼ã‚¿ã‚’ **è‡ªå‹•åé›†** ã—ã€**Gemini AI ã§åˆ†æ** ã—ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒã‚¿å‡ºã—ã‚„ç«¶åˆåˆ†æã‚’æ”¯æ´ã™ã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚

å¾“æ¥ã®ã€Œãƒ‡ãƒ¼ã‚¿ã‚’é›†ã‚ã¦åˆ¥ãƒ„ãƒ¼ãƒ«ã§åˆ†æã€ã¨ã„ã†ãƒ•ãƒ­ãƒ¼ã‚’ã€**PrepFeed å†…ã§å®Œçµ** ã•ã›ã¾ã™ã€‚

### 1.2 è§£æ±ºã—ãŸã„èª²é¡Œ

- ãƒã‚¿æ¢ã—ã‚„ãƒˆãƒ¬ãƒ³ãƒ‰åé›†ãŒé¢å€’
- åˆ†æãƒ„ãƒ¼ãƒ«ã¯é›£ã—ãã¦ä½¿ãˆãªã„
- è¤‡æ•°ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ¨ªæ–­ã—ã¦è¦‹ã‚‹ã®ãŒå¤§å¤‰
- ãƒ‡ãƒ¼ã‚¿åé›†ã¨åˆ†æã‚’åˆ¥ã€…ã«ã‚„ã‚‹ã®ãŒæ‰‹é–“

### 1.3 æƒ³å®šãƒ¦ãƒ¼ã‚¶ãƒ¼

- note / ãƒ–ãƒ­ã‚° / æŠ€è¡“è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹äºº
- ãƒã‚¿åˆ‡ã‚Œãƒ»æ–¹å‘æ€§ã«æ‚©ã‚“ã§ã„ã‚‹äºº
- YouTubeã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼
- å‹•ç”»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ‹…å½“è€…
- ç«¶åˆåˆ†æã‚’ã—ãŸã„äºº

### 1.4 ã‚µãƒ¼ãƒ“ã‚¹ã®ç‰¹å¾´

| ç‰¹å¾´                       | èª¬æ˜                                      |
| -------------------------- | ----------------------------------------- |
| **ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—**           | åé›†â†’åˆ†æâ†’ãƒã‚¿å‡ºã—ãŒPrepFeedå†…ã§å®Œçµ      |
| **AIåˆ†æ**                 | Gemini 2.5 Flash ã«ã‚ˆã‚‹é«˜é€Ÿãƒ»é«˜ç²¾åº¦ãªåˆ†æ |
| **ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** | YouTubeãƒ»Qiitaãƒ»Zenn ã‚’æ¨ªæ–­               |
| **è‡ªå‹•åŒ–**                 | æ¯æ—¥è‡ªå‹•ã§ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»ç°¡æ˜“åˆ†æ            |

---

## 2. ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ

### 2.1 æ©Ÿèƒ½éšå±¤

```
PrepFeed
â”œâ”€â”€ ğŸ†“ ç„¡æ–™æ©Ÿèƒ½ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ï¼‰
â”‚   â”œâ”€â”€ YouTube
â”‚   â”‚   â”œâ”€â”€ ãƒãƒ£ãƒ³ãƒãƒ«æ¤œç´¢ â†’ äººæ°—å‹•ç”»50æœ¬è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ â†’ äººæ°—å‹•ç”»50æœ¬è¡¨ç¤º
â”‚   â”œâ”€â”€ Qiita
â”‚   â”‚   â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ â†’ äººæ°—è¨˜äº‹50æœ¬è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ â†’ äººæ°—è¨˜äº‹50æœ¬è¡¨ç¤º
â”‚   â””â”€â”€ Zenn
â”‚       â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ â†’ äººæ°—è¨˜äº‹50æœ¬è¡¨ç¤º
â”‚       â””â”€â”€ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ â†’ äººæ°—è¨˜äº‹50æœ¬è¡¨ç¤º
â”‚
â””â”€â”€ ğŸ’ æœ‰æ–™æ©Ÿèƒ½ï¼ˆç›£è¦–ãƒ»è‡ªå‹•åé›†ãƒ»AIåˆ†æï¼‰
    â”œâ”€â”€ ç›£è¦–è¨­å®šã®ç™»éŒ²
    â”‚   â”œâ”€â”€ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç›£è¦–
    â”‚   â”œâ”€â”€ ãƒãƒ£ãƒ³ãƒãƒ«/ãƒ¦ãƒ¼ã‚¶ãƒ¼ç›£è¦–
    â”‚   â””â”€â”€ å–å¾—ä»¶æ•°è¨­å®šï¼ˆ50/100/200ä»¶ï¼‰
    â”‚
    â”œâ”€â”€ è‡ªå‹•ãƒ‡ãƒ¼ã‚¿åé›†ï¼ˆæ¯æ—¥åˆå‰3æ™‚ï¼‰
    â”‚
    â”œâ”€â”€ AIåˆ†æï¼ˆGemini 2.5 Flashï¼‰
    â”‚   â”œâ”€â”€ ğŸ“Š ç°¡æ˜“åˆ†æï¼ˆè‡ªå‹•ãƒ»ç›£è¦–è¨­å®šã”ã¨ï¼‰
    â”‚   â”‚   â”œâ”€â”€ ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢
    â”‚   â”‚   â”œâ”€â”€ æ³¨ç›®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
    â”‚   â”‚   â””â”€â”€ ç°¡å˜ãªã‚µãƒãƒªãƒ¼
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ“ˆ è©³ç´°åˆ†æï¼ˆæ‰‹å‹•ãƒ»ç·åˆãƒ¬ãƒãƒ¼ãƒˆï¼‰
    â”‚       â”œâ”€â”€ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
    â”‚       â”œâ”€â”€ ãƒã‚¿ææ¡ˆ
    â”‚       â”œâ”€â”€ ç«¶åˆåˆ†æ
    â”‚       â””â”€â”€ ç·åˆã‚µãƒãƒªãƒ¼
    â”‚
    â”œâ”€â”€ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
    â”‚   â”œâ”€â”€ åˆ†æçµæœã®é–²è¦§ï¼ˆã‚«ãƒ¼ãƒ‰å½¢å¼ï¼‰
    â”‚   â”œâ”€â”€ éå»ã®åˆ†æå±¥æ­´
    â”‚   â””â”€â”€ ç›£è¦–è¨­å®šã®ç®¡ç†
    â”‚
    â””â”€â”€ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
        â””â”€â”€ Google Sheets ã¸ã®å‡ºåŠ›ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

### 2.2 å¯¾è±¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | ç”¨é€”         | å„ªå…ˆåº¦              |
| ---------------- | ------------ | ------------------- |
| YouTube          | å‹•ç”»ãƒˆãƒ¬ãƒ³ãƒ‰ | ä¸»è»¸ï¼ˆPhase 1ç¶™æ‰¿ï¼‰ |
| Qiita            | æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ | Phase 2             |
| Zenn             | æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ | Phase 2             |
| TikTok           | å°†æ¥æ‹¡å¼µ     | Phase 3ä»¥é™         |
| note             | å°†æ¥æ‹¡å¼µ     | Phase 3ä»¥é™         |

### 2.3 åˆ†æã®2æ®µéšæ§‹æˆ

| åˆ†æã‚¿ã‚¤ãƒ—   | ã‚¿ã‚¤ãƒŸãƒ³ã‚°         | å¯¾è±¡         | å†…å®¹                                           |
| ------------ | ------------------ | ------------ | ---------------------------------------------- |
| **ç°¡æ˜“åˆ†æ** | è‡ªå‹•ï¼ˆãƒãƒƒãƒæ™‚ï¼‰   | ç›£è¦–è¨­å®šã”ã¨ | ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢ã€æ³¨ç›®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€ã‚µãƒãƒªãƒ¼       |
| **è©³ç´°åˆ†æ** | æ‰‹å‹•ï¼ˆãƒœã‚¿ãƒ³æŠ¼ä¸‹ï¼‰ | å…¨ãƒ‡ãƒ¼ã‚¿æ¨ªæ–­ | ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã€ãƒã‚¿ææ¡ˆã€ç«¶åˆåˆ†æã€ç·åˆãƒ¬ãƒãƒ¼ãƒˆ |

---

## 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### 3.1 ã‚³ã‚¢æŠ€è¡“

| ã‚«ãƒ†ã‚´ãƒª       | æŠ€è¡“                 | ãƒãƒ¼ã‚¸ãƒ§ãƒ³   | å‚™è€ƒ                   |
| -------------- | -------------------- | ------------ | ---------------------- |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js (App Router) | 15.x         | Edge Runtimeäº’æ›ã‚’æ„è­˜ |
| UI             | React                | 19.x         |                        |
| è¨€èª           | TypeScript           | 5.x          | strict mode            |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°   | Tailwind CSS         | 3.x          |                        |
| çŠ¶æ…‹ç®¡ç†       | Zustand              | 5.x          |                        |
| ãƒãƒ£ãƒ¼ãƒˆ       | Recharts             | 3.x          |                        |
| ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ | Framer Motion        | 12.x         |                        |
| ã‚¢ã‚¤ã‚³ãƒ³       | Lucide React         | 0.5x         |                        |
| ãƒ•ã‚©ãƒ³ãƒˆ       | Noto Sans JP         | Google Fonts |                        |

### 3.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©

| ã‚µãƒ¼ãƒ“ã‚¹         | ç”¨é€”                   | å‚™è€ƒ                         |
| ---------------- | ---------------------- | ---------------------------- |
| Vercel           | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ | é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆæ®µéš             |
| Cloudflare Pages | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°           | æœ¬ç•ªç§»è¡Œå…ˆï¼ˆèª²é‡‘æ©Ÿèƒ½å®Ÿè£…æ™‚ï¼‰ |
| Supabase         | èªè¨¼ãƒ»DBãƒ»ãƒ‡ãƒ¼ã‚¿ä¿å­˜   | PostgreSQL + Auth            |
| Vercel KV        | ã‚­ãƒ£ãƒƒã‚·ãƒ¥             | é–‹ç™ºæ®µéš                     |
| Cloudflare KV    | ã‚­ãƒ£ãƒƒã‚·ãƒ¥             | æœ¬ç•ªç§»è¡Œå¾Œ                   |

### 3.3 AIãƒ»å¤–éƒ¨API

| API                 | ç”¨é€”                       | ãƒ¢ãƒ‡ãƒ«/èªè¨¼      |
| ------------------- | -------------------------- | ---------------- |
| **Gemini API**      | AIåˆ†æ                     | gemini-2.5-flash |
| YouTube Data API v3 | å‹•ç”»ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«ãƒ‡ãƒ¼ã‚¿     | APIã‚­ãƒ¼          |
| Qiita API v2        | è¨˜äº‹ãƒ‡ãƒ¼ã‚¿                 | ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ |
| Zenn å†…éƒ¨API        | è¨˜äº‹ãƒ‡ãƒ¼ã‚¿                 | ä¸è¦ï¼ˆéå…¬å¼ï¼‰   |
| Google Sheets API   | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | OAuth 2.0        |

---

## 4. ã‚¤ãƒ³ãƒ•ãƒ©æˆ¦ç•¥

### 4.1 æ®µéšçš„ç§»è¡Œè¨ˆç”»

```
Phase 2a: é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆæ®µéš
â”œâ”€â”€ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°: Vercel
â”œâ”€â”€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥: Vercel KV
â”œâ”€â”€ Cron: Vercel Cron
â”œâ”€â”€ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–: Vercel Functions (waitUntil)
â””â”€â”€ ç›®çš„: è¿…é€Ÿãªé–‹ç™ºãƒ»Phase 1è³‡ç”£ã®æ´»ç”¨

Phase 2b: æœ¬ç•ªç§»è¡Œæ®µéšï¼ˆèª²é‡‘æ©Ÿèƒ½å®Ÿè£…æ™‚ï¼‰
â”œâ”€â”€ ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°: Cloudflare Pages
â”œâ”€â”€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥: Cloudflare KV
â”œâ”€â”€ Cron: Cloudflare Workers (Scheduled)
â”œâ”€â”€ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–: Cloudflare Workers Queue
â””â”€â”€ ç›®çš„: ç„¡æ–™æ ã®æ´»ç”¨ãƒ»å•†ç”¨åˆ©ç”¨å¯¾å¿œ
```

### 4.2 Cloudflareç§»è¡Œã‚’è¦‹æ®ãˆãŸè¨­è¨ˆæ–¹é‡

| é …ç›®                   | æ–¹é‡                                                |
| ---------------------- | --------------------------------------------------- |
| API Routes             | Edge Runtimeäº’æ›ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã                      |
| ç’°å¢ƒå¤‰æ•°               | Vercel/Cloudflareä¸¡å¯¾å¿œã®å‘½å                       |
| KVæ“ä½œ                 | æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¨­ã‘ã¦åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«                |
| Cron                   | `/api/batch` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯å…±é€šã€ãƒˆãƒªã‚¬ãƒ¼ã®ã¿å¤‰æ›´ |
| ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ– | æŠ½è±¡åŒ–ã—ã¦åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«                            |

---

## 5. èªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 5.1 èªè¨¼ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      èªè¨¼ãƒ•ãƒ­ãƒ¼                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ã‚’ã‚¯ãƒªãƒƒã‚¯                   â”‚
â”‚                    â†“                                        â”‚
â”‚  2. Supabase Auth ãŒ Google OAuth ã‚’å‡¦ç†                     â”‚
â”‚                    â†“                                        â”‚
â”‚  3. èªè¨¼æˆåŠŸ â†’ Supabase ã« user ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ                  â”‚
â”‚                    â†“                                        â”‚
â”‚  4. profiles ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆæœŸãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆãƒˆãƒªã‚¬ãƒ¼ï¼‰              â”‚
â”‚                    â†“                                        â”‚
â”‚  5. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

| é …ç›®           | è¨­å®š                           |
| -------------- | ------------------------------ |
| èªè¨¼æ–¹å¼       | Supabase Authï¼ˆGoogle OAuthï¼‰  |
| ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† | Supabase ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆJWTï¼‰     |
| RLS            | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã«é©ç”¨               |
| APIã‚­ãƒ¼ä¿è­·    | ç’°å¢ƒå¤‰æ•° + ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿  |
| ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ | 10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†/IPï¼ˆç„¡æ–™æ©Ÿèƒ½ï¼‰ |

### 5.3 Row Level Security (RLS) ãƒãƒªã‚·ãƒ¼

```sql
-- profiles ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE POLICY "Users can view own profile"
  ON profiles FOR SELECT
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
  ON profiles FOR UPDATE
  USING (auth.uid() = id);

-- monitor_settings ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE POLICY "Users can CRUD own settings"
  ON monitor_settings FOR ALL
  USING (auth.uid() = user_id);

-- collected_data ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE POLICY "Users can CRUD own data"
  ON collected_data FOR ALL
  USING (auth.uid() = user_id);

-- analysis_results ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE POLICY "Users can CRUD own analysis"
  ON analysis_results FOR ALL
  USING (auth.uid() = user_id);
```

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 6.1 ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§

| ãƒ†ãƒ¼ãƒ–ãƒ«å       | ç”¨é€”                             |
| ---------------- | -------------------------------- |
| profiles         | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«             |
| monitor_settings | ç›£è¦–è¨­å®š                         |
| collected_data   | åé›†ãƒ‡ãƒ¼ã‚¿ï¼ˆYouTube/Qiita/Zennï¼‰ |
| analysis_results | AIåˆ†æçµæœ                       |
| analysis_jobs    | åˆ†æã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼                 |
| fetch_logs       | å–å¾—ãƒ­ã‚°                         |

### 6.2 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### profilesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

| ã‚«ãƒ©ãƒ                | å‹          | èª¬æ˜                       | åˆ¶ç´„               |
| -------------------- | ----------- | -------------------------- | ------------------ |
| id                   | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID                 | PK, FK(auth.users) |
| email                | text        | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹             | NOT NULL           |
| display_name         | text        | è¡¨ç¤ºå                     |                    |
| avatar_url           | text        | ã‚¢ãƒã‚¿ãƒ¼URL                |                    |
| google_refresh_token | text        | Sheetsç”¨ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆæš—å·åŒ–ï¼‰ |                    |
| is_premium           | boolean     | æœ‰æ–™ãƒ—ãƒ©ãƒ³ãƒ•ãƒ©ã‚°           | DEFAULT false      |
| created_at           | timestamptz | ä½œæˆæ—¥æ™‚                   | DEFAULT now()      |
| updated_at           | timestamptz | æ›´æ–°æ—¥æ™‚                   | DEFAULT now()      |

#### monitor_settingsï¼ˆç›£è¦–è¨­å®šï¼‰

| ã‚«ãƒ©ãƒ           | å‹          | èª¬æ˜             | åˆ¶ç´„                         |
| --------------- | ----------- | ---------------- | ---------------------------- |
| id              | uuid        | è¨­å®šID           | PK                           |
| user_id         | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID       | FK(profiles.id), NOT NULL    |
| platform        | text        | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | CHECK (youtube/qiita/zenn)   |
| type            | text        | ç›£è¦–ã‚¿ã‚¤ãƒ—       | CHECK (keyword/channel/user) |
| value           | text        | æ¤œç´¢å€¤           | NOT NULL                     |
| display_name    | text        | è¡¨ç¤ºå           |                              |
| fetch_count     | integer     | å–å¾—ä»¶æ•°         | CHECK (50/100/200)           |
| is_active       | boolean     | æœ‰åŠ¹ãƒ•ãƒ©ã‚°       | DEFAULT true                 |
| last_fetched_at | timestamptz | æœ€çµ‚å–å¾—æ—¥æ™‚     |                              |
| created_at      | timestamptz | ä½œæˆæ—¥æ™‚         | DEFAULT now()                |
| updated_at      | timestamptz | æ›´æ–°æ—¥æ™‚         | DEFAULT now()                |

#### collected_dataï¼ˆåé›†ãƒ‡ãƒ¼ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ        | å‹          | èª¬æ˜                          | åˆ¶ç´„                      |
| ------------ | ----------- | ----------------------------- | ------------------------- |
| id           | uuid        | ãƒ‡ãƒ¼ã‚¿ID                      | PK                        |
| user_id      | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID                    | FK(profiles.id), NOT NULL |
| setting_id   | uuid        | ç›£è¦–è¨­å®šID                    | FK(monitor_settings.id)   |
| platform     | text        | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ               | NOT NULL                  |
| content_id   | text        | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„IDï¼ˆå‹•ç”»ID/è¨˜äº‹IDï¼‰ | NOT NULL                  |
| title        | text        | ã‚¿ã‚¤ãƒˆãƒ«                      | NOT NULL                  |
| url          | text        | URL                           | NOT NULL                  |
| published_at | timestamptz | æŠ•ç¨¿æ—¥æ™‚                      |                           |
| author_id    | text        | è‘—è€…ID                        |                           |
| author_name  | text        | è‘—è€…å                        |                           |
| views        | integer     | å†ç”Ÿæ•°ï¼ˆYouTubeï¼‰             |                           |
| likes        | integer     | ã„ã„ã­æ•°                      |                           |
| comments     | integer     | ã‚³ãƒ¡ãƒ³ãƒˆæ•°                    |                           |
| stocks       | integer     | ã‚¹ãƒˆãƒƒã‚¯æ•°ï¼ˆQiitaï¼‰           |                           |
| duration     | text        | å‹•ç”»æ™‚é–“ï¼ˆYouTubeï¼‰           |                           |
| tags         | text[]      | ã‚¿ã‚°                          |                           |
| growth_rate  | numeric     | ä¼¸ã³ç‡                        |                           |
| collected_at | timestamptz | åé›†æ—¥æ™‚                      | DEFAULT now()             |

**ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„**: (user_id, setting_id, content_id)

#### analysis_resultsï¼ˆåˆ†æçµæœï¼‰

| ã‚«ãƒ©ãƒ         | å‹          | èª¬æ˜                           | åˆ¶ç´„                                        |
| ------------- | ----------- | ------------------------------ | ------------------------------------------- |
| id            | uuid        | åˆ†æID                         | PK                                          |
| user_id       | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID                     | FK(profiles.id), NOT NULL                   |
| setting_id    | uuid        | ç›£è¦–è¨­å®šIDï¼ˆNULLãªã‚‰ç·åˆåˆ†æï¼‰ | FK(monitor_settings.id)                     |
| analysis_type | text        | åˆ†æã‚¿ã‚¤ãƒ—                     | CHECK (simple/detailed)                     |
| status        | text        | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹                     | CHECK (pending/processing/completed/failed) |
| result        | jsonb       | åˆ†æçµæœï¼ˆJSONï¼‰               |                                             |
| error_message | text        | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸               |                                             |
| created_at    | timestamptz | ä½œæˆæ—¥æ™‚                       | DEFAULT now()                               |
| completed_at  | timestamptz | å®Œäº†æ—¥æ™‚                       |                                             |

#### analysis_jobsï¼ˆåˆ†æã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ï¼‰

| ã‚«ãƒ©ãƒ        | å‹          | èª¬æ˜           | åˆ¶ç´„                                       |
| ------------ | ----------- | -------------- | ------------------------------------------ |
| id           | uuid        | ã‚¸ãƒ§ãƒ–ID       | PK                                         |
| user_id      | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID     | FK(profiles.id), NOT NULL                  |
| analysis_id  | uuid        | åˆ†æçµæœID     | FK(analysis_results.id)                    |
| job_type     | text        | ã‚¸ãƒ§ãƒ–ã‚¿ã‚¤ãƒ—   | CHECK (simple/detailed)                    |
| status       | text        | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹     | CHECK (queued/processing/completed/failed) |
| priority     | integer     | å„ªå…ˆåº¦         | DEFAULT 0                                  |
| payload      | jsonb       | å®Ÿè¡Œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |                                            |
| started_at   | timestamptz | é–‹å§‹æ—¥æ™‚       |                                            |
| completed_at | timestamptz | å®Œäº†æ—¥æ™‚       |                                            |
| created_at   | timestamptz | ä½œæˆæ—¥æ™‚       | DEFAULT now()                              |

#### fetch_logsï¼ˆå–å¾—ãƒ­ã‚°ï¼‰

| ã‚«ãƒ©ãƒ         | å‹          | èª¬æ˜             | åˆ¶ç´„                      |
| ------------- | ----------- | ---------------- | ------------------------- |
| id            | uuid        | ãƒ­ã‚°ID           | PK                        |
| user_id       | uuid        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID       | FK(profiles.id), NOT NULL |
| setting_id    | uuid        | ç›£è¦–è¨­å®šID       | FK(monitor_settings.id)   |
| platform      | text        | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | NOT NULL                  |
| status        | text        | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹       | CHECK (success/error)     |
| records_count | integer     | å–å¾—ä»¶æ•°         |                           |
| error_message | text        | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |                           |
| executed_at   | timestamptz | å®Ÿè¡Œæ—¥æ™‚         | DEFAULT now()             |

### 6.3 ERå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    profiles     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ email           â”‚                                      â”‚
â”‚ display_name    â”‚                                      â”‚
â”‚ google_refresh_ â”‚                                      â”‚
â”‚   token         â”‚                                      â”‚
â”‚ is_premium      â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
         â”‚                                               â”‚
         â”‚ 1:N                                           â”‚
         â–¼                                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  monitor_settings   â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
â”‚ id (PK)             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ user_id (FK)     â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ platform            â”‚                  â”‚               â”‚
â”‚ type                â”‚                  â”‚               â”‚
â”‚ value               â”‚                  â”‚               â”‚
â”‚ fetch_count         â”‚                  â”‚               â”‚
â”‚ is_active           â”‚                  â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚               â”‚
         â”‚                               â”‚               â”‚
         â”‚ 1:N                           â”‚               â”‚
         â–¼                               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚               â”‚
â”‚   collected_data    â”‚                  â”‚               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚               â”‚
â”‚ id (PK)             â”‚                  â”‚               â”‚
â”‚ user_id (FK)     â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ setting_id (FK)  â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚ platform            â”‚                                  â”‚
â”‚ content_id          â”‚                                  â”‚
â”‚ title, url, ...     â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  analysis_results   â”‚    â”‚   analysis_jobs     â”‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚ id (PK)             â”‚â—„â”€â”€â”€â”¤ analysis_id (FK)    â”‚       â”‚
â”‚ user_id (FK)     â—„â”€â”€â”¼â”€â”€â”€â”€â”¼â”€user_id (FK)     â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ setting_id (FK)     â”‚    â”‚ job_type            â”‚       â”‚
â”‚ analysis_type       â”‚    â”‚ status              â”‚       â”‚
â”‚ status              â”‚    â”‚ payload             â”‚       â”‚
â”‚ result (JSONB)      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚    fetch_logs       â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
â”‚ id (PK)             â”‚                                  â”‚
â”‚ user_id (FK)     â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ setting_id (FK)     â”‚
â”‚ status              â”‚
â”‚ records_count       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.4 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```sql
-- é »å‡ºã‚¯ã‚¨ãƒªç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_monitor_settings_user_active
  ON monitor_settings(user_id) WHERE is_active = true;

CREATE INDEX idx_collected_data_user_setting
  ON collected_data(user_id, setting_id);

CREATE INDEX idx_collected_data_content
  ON collected_data(user_id, content_id);

CREATE INDEX idx_analysis_results_user
  ON analysis_results(user_id, created_at DESC);

CREATE INDEX idx_analysis_jobs_status
  ON analysis_jobs(status) WHERE status IN ('queued', 'processing');

CREATE INDEX idx_fetch_logs_user
  ON fetch_logs(user_id, executed_at DESC);
```

---

## 7. APIä»•æ§˜

### 7.1 æ—¢å­˜APIï¼ˆPhase 1ç¶™æ‰¿ï¼‰

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ              | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜           |
| --------------------------- | -------- | -------------- |
| `/api/youtube/search`       | GET      | ãƒãƒ£ãƒ³ãƒãƒ«æ¤œç´¢ |
| `/api/youtube/channel/[id]` | GET      | ãƒãƒ£ãƒ³ãƒãƒ«è©³ç´° |
| `/api/youtube/keyword`      | GET      | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ |

### 7.2 æ–°è¦APIï¼ˆPhase 2ï¼‰

#### Qiita API

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ         | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜               |
| ---------------------- | -------- | ------------------ |
| `/api/qiita/user/[id]` | GET      | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨˜äº‹ä¸€è¦§ |
| `/api/qiita/keyword`   | GET      | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢     |

#### Zenn API

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ              | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜               |
| --------------------------- | -------- | ------------------ |
| `/api/zenn/user/[username]` | GET      | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨˜äº‹ä¸€è¦§ |
| `/api/zenn/keyword`         | GET      | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢     |

#### ç›£è¦–è¨­å®šAPI

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ       | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜                       |
| -------------------- | -------- | -------------------------- |
| `/api/settings`      | GET      | è¨­å®šä¸€è¦§å–å¾—               |
| `/api/settings`      | POST     | è¨­å®šè¿½åŠ ï¼ˆåˆå›å–å¾—ã‚‚å®Ÿè¡Œï¼‰ |
| `/api/settings/[id]` | PUT      | è¨­å®šæ›´æ–°                   |
| `/api/settings/[id]` | DELETE   | è¨­å®šå‰Šé™¤                   |

#### åˆ†æAPI

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ              | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜               |
| --------------------------- | -------- | ------------------ |
| `/api/analysis`             | GET      | åˆ†æçµæœä¸€è¦§å–å¾—   |
| `/api/analysis/[id]`        | GET      | åˆ†æçµæœè©³ç´°å–å¾—   |
| `/api/analysis/detailed`    | POST     | è©³ç´°åˆ†æãƒªã‚¯ã‚¨ã‚¹ãƒˆ |
| `/api/analysis/status/[id]` | GET      | åˆ†æã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª |

#### ãƒãƒƒãƒAPI

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ      | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜                     |
| ------------------- | -------- | ------------------------ |
| `/api/batch`        | POST     | ãƒãƒƒãƒå‡¦ç†å®Ÿè¡Œï¼ˆCronç”¨ï¼‰ |
| `/api/batch/manual` | POST     | æ‰‹å‹•ãƒãƒƒãƒå®Ÿè¡Œï¼ˆç®¡ç†ç”¨ï¼‰ |

#### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆAPI

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ       | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜                        |
| -------------------- | -------- | --------------------------- |
| `/api/export/sheets` | POST     | Google Sheetsã¸ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |
| `/api/export/csv`    | GET      | CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰             |

#### Googleé€£æºAPIï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”¨ï¼‰

| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ           | ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜              |
| ------------------------ | -------- | ----------------- |
| `/api/google/auth`       | GET      | OAuthèªè¨¼é–‹å§‹     |
| `/api/google/callback`   | GET      | OAuthã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| `/api/google/disconnect` | POST     | é€£æºè§£é™¤          |

---

## 8. Gemini AI åˆ†æè¨­è¨ˆ

### 8.1 åˆ†æã‚¿ã‚¤ãƒ—ã®è©³ç´°

#### ç°¡æ˜“åˆ†æï¼ˆSimple Analysisï¼‰

| é …ç›®       | å†…å®¹                           |
| ---------- | ------------------------------ |
| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ãƒãƒƒãƒå‡¦ç†æ™‚ã«è‡ªå‹•å®Ÿè¡Œ         |
| å¯¾è±¡       | å„ç›£è¦–è¨­å®šã®åé›†ãƒ‡ãƒ¼ã‚¿ï¼ˆå€‹åˆ¥ï¼‰ |
| å‡¦ç†æ™‚é–“   | 5ã€œ15ç§’                        |
| å®Ÿè¡Œæ–¹æ³•   | ãƒãƒƒãƒå‡¦ç†å†…ã§åŒæœŸå®Ÿè¡Œ         |

**å‡ºåŠ›å†…å®¹ï¼ˆJSONBï¼‰**:

```json
{
  "trend_score": 78,
  "summary": "AIé–¢é€£ã®å‹•ç”»æŠ•ç¨¿ãŒå¢—åŠ å‚¾å‘ã€‚ç‰¹ã«Claudeé–¢é€£ãŒæ³¨ç›®ã€‚",
  "top_contents": [
    {
      "id": "xxx",
      "title": "...",
      "reason": "æ€¥æ¿€ãªå†ç”Ÿæ•°å¢—åŠ "
    }
  ],
  "keywords": ["Claude", "Gemini", "ChatGPT"],
  "generated_at": "2026-01-30T03:00:00Z"
}
```

#### è©³ç´°åˆ†æï¼ˆDetailed Analysisï¼‰

| é …ç›®       | å†…å®¹                       |
| ---------- | -------------------------- |
| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆ |
| å¯¾è±¡       | å…¨ç›£è¦–è¨­å®šã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¨ªæ–­   |
| å‡¦ç†æ™‚é–“   | 30ã€œ60ç§’                   |
| å®Ÿè¡Œæ–¹æ³•   | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–     |

**å‡ºåŠ›å†…å®¹ï¼ˆJSONBï¼‰**:

```json
{
  "trend_analysis": {
    "summary": "ä»Šé€±ã®ãƒˆãƒ¬ãƒ³ãƒ‰ç·æ‹¬...",
    "rising_topics": [
      { "topic": "Claude Code", "growth": "+120%", "platforms": ["youtube", "qiita"] }
    ],
    "declining_topics": [...]
  },
  "content_ideas": [
    {
      "title": "Claude Code vs Cursor å¾¹åº•æ¯”è¼ƒ",
      "reason": "ä¸¡æ–¹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒæ€¥ä¸Šæ˜‡ä¸­",
      "platform_recommendation": "YouTube",
      "estimated_potential": "é«˜"
    }
  ],
  "competitor_analysis": {
    "top_performers": [...],
    "posting_patterns": "é€±3å›ã€ç«æœ¨åœŸãŒå¤šã„",
    "common_tags": [...]
  },
  "recommendations": [
    "AIÃ—ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åˆ‡ã‚Šå£ãŒä¼¸ã³ã¦ã„ã‚‹",
    "10åˆ†ä»¥å†…ã®å‹•ç”»ãŒå¥½ã¾ã‚Œã‚‹å‚¾å‘"
  ],
  "generated_at": "2026-01-30T10:30:00Z"
}
```

### 8.2 Gemini API å‘¼ã³å‡ºã—è¨­è¨ˆ

#### ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«

```
gemini-2.5-flash
```

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆï¼ˆç°¡æ˜“åˆ†æï¼‰

```
ã‚ãªãŸã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚
ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€JSONå½¢å¼ã§çµæœã‚’è¿”ã—ã¦ãã ã•ã„ã€‚

ã€ãƒ‡ãƒ¼ã‚¿ã€‘
ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : {platform}
ç›£è¦–ã‚¿ã‚¤ãƒ—: {type}
æ¤œç´¢å€¤: {value}
åé›†æ—¥: {date}
ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: {count}ä»¶

ã€åé›†ãƒ‡ãƒ¼ã‚¿ã€‘
{data_json}

ã€å‡ºåŠ›å½¢å¼ã€‘
{
  "trend_score": 0-100ã®æ•°å€¤,
  "summary": "100æ–‡å­—ä»¥å†…ã®è¦ç´„",
  "top_contents": [ä¸Šä½3ä»¶ã®æ³¨ç›®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„],
  "keywords": [é–¢é€£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰5ã¤]
}
```

#### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆï¼ˆè©³ç´°åˆ†æï¼‰

```
ã‚ãªãŸã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®å°‚é–€å®¶ã§ã™ã€‚
ä»¥ä¸‹ã®è¤‡æ•°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¨ªæ–­åˆ†æã—ã€
ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å‘ã‘ã®å®Ÿç”¨çš„ãªãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç›£è¦–è¨­å®šã€‘
{settings_json}

ã€YouTube ãƒ‡ãƒ¼ã‚¿ã€‘
{youtube_data}

ã€Qiita ãƒ‡ãƒ¼ã‚¿ã€‘
{qiita_data}

ã€Zenn ãƒ‡ãƒ¼ã‚¿ã€‘
{zenn_data}

ã€å‡ºåŠ›å½¢å¼ã€‘
{
  "trend_analysis": { ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ },
  "content_ideas": [ ãƒã‚¿ææ¡ˆ3ã€œ5ä»¶ ],
  "competitor_analysis": { ç«¶åˆåˆ†æ },
  "recommendations": [ å…·ä½“çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹3ã€œ5ä»¶ ]
}

ã€æ³¨æ„äº‹é …ã€‘
- å…·ä½“çš„ãªæ•°å€¤ã‚„ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸåˆ†æã‚’ã—ã¦ãã ã•ã„
- å®Ÿè¡Œå¯èƒ½ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ææ¡ˆã—ã¦ãã ã•ã„
- æ—¥æœ¬èªã§å‡ºåŠ›ã—ã¦ãã ã•ã„
```

### 8.3 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

| ã‚¨ãƒ©ãƒ¼         | å¯¾å¿œ                                   |
| -------------- | -------------------------------------- |
| ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ | ãƒªãƒˆãƒ©ã‚¤ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰             |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ   | ã‚¸ãƒ§ãƒ–ã‚’failedã«æ›´æ–°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥   |
| ä¸æ­£ãªJSONå¿œç­” | ãƒ‘ãƒ¼ã‚¹è©¦è¡Œã€å¤±æ•—æ™‚ã¯ã‚¨ãƒ©ãƒ¼ä¿å­˜         |
| APIã‚¨ãƒ©ãƒ¼      | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¿å­˜ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤º |

---

## 9. ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–è¨­è¨ˆ

### 9.1 æ¦‚è¦

è©³ç´°åˆ†æã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’é¿ã‘ã‚‹ãŸã‚ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ã¨ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

### 9.2 ã‚¸ãƒ§ãƒ–ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è©³ç´°åˆ†æ ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–ãƒ•ãƒ­ãƒ¼            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œè©³ç´°åˆ†æã‚’å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯              â”‚
â”‚                    â†“                                        â”‚
â”‚  2. POST /api/analysis/detailed                             â”‚
â”‚     - analysis_results ã« pending ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ               â”‚
â”‚     - analysis_jobs ã« queued ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ                  â”‚
â”‚     - å³åº§ã« 202 Accepted ã‚’è¿”å´                            â”‚
â”‚                    â†“                                        â”‚
â”‚  3. ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å‡¦ç†é–‹å§‹ï¼ˆwaitUntil / Workers Queueï¼‰   â”‚
â”‚     - status ã‚’ processing ã«æ›´æ–°                           â”‚
â”‚     - åé›†ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—                                      â”‚
â”‚     - Gemini API ã‚’å‘¼ã³å‡ºã—                                 â”‚
â”‚                    â†“                                        â”‚
â”‚  4. åˆ†æå®Œäº†                                                â”‚
â”‚     - analysis_results.result ã«çµæœã‚’ä¿å­˜                  â”‚
â”‚     - status ã‚’ completed ã«æ›´æ–°                            â”‚
â”‚                    â†“                                        â”‚
â”‚  5. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒãƒãƒ¼ãƒªãƒ³ã‚°ã§æ¤œçŸ¥                         â”‚
â”‚     - GET /api/analysis/status/{id}                        â”‚
â”‚     - status: completed ã‚’æ¤œçŸ¥ã—ãŸã‚‰çµæœã‚’è¡¨ç¤º               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 Vercel ã§ã®å®Ÿè£…ï¼ˆwaitUntilï¼‰

```typescript
// app/api/analysis/detailed/route.ts
import { waitUntil } from '@vercel/functions';

export async function POST(request: Request) {
  const { userId } = await getSession(request);

  // 1. åˆ†æãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
  const analysis = await createAnalysisRecord(userId, 'detailed', 'pending');
  const job = await createJobRecord(userId, analysis.id, 'detailed', 'queued');

  // 2. ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾…ãŸãªã„ï¼‰
  waitUntil(runDetailedAnalysis(userId, analysis.id, job.id));

  // 3. å³åº§ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹
  return Response.json(
    { analysisId: analysis.id, status: 'queued' },
    { status: 202 },
  );
}

async function runDetailedAnalysis(
  userId: string,
  analysisId: string,
  jobId: string,
) {
  try {
    await updateJobStatus(jobId, 'processing');

    // åé›†ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    const data = await getCollectedData(userId);

    // Gemini API å‘¼ã³å‡ºã—
    const result = await callGeminiAPI(data, 'detailed');

    // çµæœã‚’ä¿å­˜
    await saveAnalysisResult(analysisId, result);
    await updateJobStatus(jobId, 'completed');
  } catch (error) {
    await updateJobStatus(jobId, 'failed', error.message);
    await updateAnalysisStatus(analysisId, 'failed', error.message);
  }
}
```

### 9.4 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒãƒ¼ãƒªãƒ³ã‚°

```typescript
// hooks/useAnalysisStatus.ts
export function useAnalysisStatus(analysisId: string | null) {
  const [status, setStatus] = useState<
    'queued' | 'processing' | 'completed' | 'failed'
  >('queued');
  const [result, setResult] = useState(null);

  useEffect(() => {
    if (!analysisId) return;

    const interval = setInterval(async () => {
      const res = await fetch(`/api/analysis/status/${analysisId}`);
      const data = await res.json();

      setStatus(data.status);

      if (data.status === 'completed') {
        setResult(data.result);
        clearInterval(interval);
      } else if (data.status === 'failed') {
        clearInterval(interval);
      }
    }, 2000); // 2ç§’ã”ã¨ã«ãƒãƒ¼ãƒªãƒ³ã‚°

    return () => clearInterval(interval);
  }, [analysisId]);

  return { status, result };
}
```

---

## 10. ãƒãƒƒãƒå‡¦ç†è¨­è¨ˆ

### 10.1 å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| é …ç›®            | è¨­å®š                                  |
| --------------- | ------------------------------------- |
| å®Ÿè¡Œæ™‚åˆ»        | æ¯æ—¥ åˆå‰3æ™‚ï¼ˆJSTï¼‰                   |
| Vercel Cronè¨­å®š | `0 18 * * *`ï¼ˆUTC 18:00 = JST 03:00ï¼‰ |

### 10.2 ãƒãƒƒãƒå‡¦ç†ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ãƒãƒƒãƒå‡¦ç†ãƒ•ãƒ­ãƒ¼                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. Vercel Cron ãŒãƒˆãƒªã‚¬ãƒ¼ï¼ˆæ¯æ—¥ 03:00 JSTï¼‰                 â”‚
â”‚                    â†“                                        â”‚
â”‚  2. ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªç›£è¦–è¨­å®šã‚’å…¨ä»¶å–å¾—                           â”‚
â”‚                    â†“                                        â”‚
â”‚  3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–                                 â”‚
â”‚                    â†“                                        â”‚
â”‚  4. å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ Ã— å„ç›£è¦–è¨­å®šã®å‡¦ç†:                          â”‚
â”‚     a. ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ APIã§ãƒ‡ãƒ¼ã‚¿å–å¾—                       â”‚
â”‚     b. collected_data ã« Upsert                            â”‚
â”‚     c. Gemini API ã§ç°¡æ˜“åˆ†æ                                â”‚
â”‚     d. analysis_results ã«ä¿å­˜                              â”‚
â”‚     e. fetch_logs ã«è¨˜éŒ²                                   â”‚
â”‚     f. last_fetched_at ã‚’æ›´æ–°                              â”‚
â”‚                    â†“                                        â”‚
â”‚  5. å‡¦ç†å®Œäº†ãƒ­ã‚°å‡ºåŠ›                                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 Upsert ãƒ­ã‚¸ãƒƒã‚¯

```typescript
async function upsertCollectedData(
  userId: string,
  settingId: string,
  data: ContentData[],
): Promise<void> {
  for (const item of data) {
    await supabase.from('collected_data').upsert(
      {
        user_id: userId,
        setting_id: settingId,
        platform: item.platform,
        content_id: item.id,
        title: item.title,
        url: item.url,
        published_at: item.publishedAt,
        author_id: item.authorId,
        author_name: item.authorName,
        views: item.views,
        likes: item.likes,
        comments: item.comments,
        stocks: item.stocks,
        tags: item.tags,
        growth_rate: calculateGrowthRate(item),
        collected_at: new Date().toISOString(),
      },
      {
        onConflict: 'user_id,setting_id,content_id',
        ignoreDuplicates: false,
      },
    );
  }
}
```

### 10.4 åˆå›å–å¾—ãƒ•ãƒ­ãƒ¼

ç›£è¦–è¨­å®šç™»éŒ²æ™‚ã«å³åº§ã«å®Ÿè¡Œï¼š

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç›£è¦–è¨­å®šã‚’ç™»éŒ²
     â†“
2. DB ã« monitor_settings ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆ
     â†“
3. å³åº§ã«ãƒ‡ãƒ¼ã‚¿å–å¾—å‡¦ç†ã‚’å®Ÿè¡Œ
     â†“
4. collected_data ã«ä¿å­˜
     â†“
5. ç°¡æ˜“åˆ†æã‚’å®Ÿè¡Œ
     â†“
6. analysis_results ã«ä¿å­˜
     â†“
7. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å®Œäº†é€šçŸ¥ï¼ˆUIæ›´æ–°ï¼‰
```

---

## 11. Google Sheets ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

### 11.1 æ¦‚è¦

Google Sheets ã¸ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ **ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½** ã¨ã—ã¦æä¾›ã—ã¾ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®ã¿å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

### 11.2 ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒGoogleãƒ‰ãƒ©ã‚¤ãƒ–é€£æºã€ã‚’è¨­å®šï¼ˆåˆå›ã®ã¿ï¼‰
     â†“
2. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€ŒSheetsã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
     â†“
3. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¯¾è±¡ã‚’é¸æŠ
   - å…¨ãƒ‡ãƒ¼ã‚¿
   - ç‰¹å®šã®ç›£è¦–è¨­å®šã®ã¿
   - æœŸé–“æŒ‡å®š
     â†“
4. Google Sheets ã«æ›¸ãå‡ºã—
   - æ–°è¦ã‚·ãƒ¼ãƒˆä½œæˆ or æ—¢å­˜ã‚·ãƒ¼ãƒˆã«è¿½åŠ 
     â†“
5. ã‚·ãƒ¼ãƒˆã®URLã‚’è¡¨ç¤º
```

### 11.3 ã‚·ãƒ¼ãƒˆæ§‹æˆï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ™‚ï¼‰

```
PrepFeed_ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ_20260130ï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆåï¼‰
â”œâ”€â”€ YouTubeï¼ˆã‚·ãƒ¼ãƒˆ1ï¼‰
â”œâ”€â”€ Qiitaï¼ˆã‚·ãƒ¼ãƒˆ2ï¼‰
â””â”€â”€ Zennï¼ˆã‚·ãƒ¼ãƒˆ3ï¼‰
```

### 11.4 Google OAuth é€£æºï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”¨ï¼‰

| é …ç›®           | å†…å®¹                                                  |
| -------------- | ----------------------------------------------------- |
| å¿…è¦ãªã‚¹ã‚³ãƒ¼ãƒ— | `spreadsheets`, `drive.file`                          |
| ãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜   | profiles.google_refresh_tokenï¼ˆæš—å·åŒ–ï¼‰               |
| é€£æºè§£é™¤       | ãƒˆãƒ¼ã‚¯ãƒ³å‰Šé™¤ + Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆå´ã§ã‚‚ã‚¢ãƒ—ãƒªå‰Šé™¤ã‚’æ¡ˆå†… |

---

## 12. ãƒšãƒ¼ã‚¸ãƒ»UIè¨­è¨ˆ

### 12.1 ãƒšãƒ¼ã‚¸æ§‹æˆ

```
/                        # ãƒ›ãƒ¼ãƒ ï¼ˆæ¤œç´¢UIï¼‰
â”œâ”€â”€ /youtube
â”‚   â”œâ”€â”€ /channel/[id]    # ãƒãƒ£ãƒ³ãƒãƒ«åˆ†æï¼ˆæ—¢å­˜ï¼‰
â”‚   â””â”€â”€ /keyword/[query] # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢çµæœï¼ˆæ—¢å­˜ï¼‰
â”œâ”€â”€ /qiita
â”‚   â”œâ”€â”€ /user/[id]       # ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨˜äº‹ä¸€è¦§ï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ /keyword/[query] # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢çµæœï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ /zenn
â”‚   â”œâ”€â”€ /user/[username] # ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨˜äº‹ä¸€è¦§ï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ /keyword/[query] # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢çµæœï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ /dashboard           # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆè¦ãƒ­ã‚°ã‚¤ãƒ³ï¼‰
â”‚   â”œâ”€â”€ /                # åˆ†æçµæœä¸€è¦§
â”‚   â”œâ”€â”€ /settings        # ç›£è¦–è¨­å®šä¸€è¦§
â”‚   â”œâ”€â”€ /analysis/[id]   # åˆ†æçµæœè©³ç´°
â”‚   â””â”€â”€ /export          # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¨­å®š
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ /login           # ãƒ­ã‚°ã‚¤ãƒ³
â”‚   â””â”€â”€ /callback        # OAuth ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
â”œâ”€â”€ /contact             # ãŠå•ã„åˆã‚ã›ï¼ˆæ—¢å­˜ï¼‰
â”œâ”€â”€ /privacy             # ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ï¼ˆæ—¢å­˜ï¼‰
â””â”€â”€ /disclaimer          # å…è²¬äº‹é …ï¼ˆæ—¢å­˜ï¼‰
```

### 12.2 ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PrepFeed Dashboard                          [ãƒ¦ãƒ¼ã‚¶ãƒ¼å] â–¼ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“Š æœ€æ–°ã®åˆ†æçµæœ                    [è©³ç´°åˆ†æã‚’å®Ÿè¡Œ ğŸš€]   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¬ YouTube | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: AI                          â”‚   â”‚
â”‚  â”‚ æœ€çµ‚æ›´æ–°: 2026/01/30 03:00                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ğŸ“ˆ ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢: 78/100                            â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ’¡ ã‚µãƒãƒªãƒ¼                                          â”‚   â”‚
â”‚  â”‚ AIé–¢é€£ã®å‹•ç”»æŠ•ç¨¿ãŒå¢—åŠ å‚¾å‘ã€‚ç‰¹ã«Claudeé–¢é€£ãŒæ³¨ç›®ã€‚   â”‚   â”‚
â”‚  â”‚ å‰é€±æ¯”ã§æŠ•ç¨¿æ•°+23%ã€å¹³å‡å†ç”Ÿæ•°+45%ã€‚                 â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ”¥ æ³¨ç›®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„                                    â”‚   â”‚
â”‚  â”‚ 1. ã€ŒClaude 3.5 å®Œå…¨è§£èª¬ã€ - æ€¥æ¿€ãªå†ç”Ÿæ•°å¢—åŠ         â”‚   â”‚
â”‚  â”‚ 2. ã€ŒChatGPT vs Claudeã€ - é«˜ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ        â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ·ï¸ é–¢é€£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: Claude, Gemini, ChatGPT, LLM     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ Qiita | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: React                         â”‚   â”‚
â”‚  â”‚ æœ€çµ‚æ›´æ–°: 2026/01/30 03:00                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ğŸ“ˆ ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢: 65/100                            â”‚   â”‚
â”‚  â”‚ ...                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‹ ç›£è¦–è¨­å®š (3ä»¶)                        [+ è¨­å®šã‚’è¿½åŠ ]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¬ YouTube | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: AI | 100ä»¶ | âœ…             â”‚   â”‚
â”‚  â”‚ ğŸ“ Qiita | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: React | 50ä»¶ | âœ…             â”‚   â”‚
â”‚  â”‚ ğŸ“˜ Zenn | ãƒ¦ãƒ¼ã‚¶ãƒ¼: catnose | 50ä»¶ | âœ…              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.3 è©³ç´°åˆ†æçµæœç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† æˆ»ã‚‹                              2026/01/30 10:30 ç”Ÿæˆ  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“ˆ ç·åˆåˆ†æãƒ¬ãƒãƒ¼ãƒˆ                                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”¥ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ                                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ä»Šé€±ã®ãƒˆãƒ¬ãƒ³ãƒ‰ç·æ‹¬:                                  â”‚   â”‚
â”‚  â”‚ AIé–¢é€£ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§æ€¥å¢—ã€‚       â”‚   â”‚
â”‚  â”‚ ç‰¹ã«ã€ŒClaudeã€é–¢é€£ã¯å‰é€±æ¯”+120%ã¨å¤§ããªä¼¸ã³ã€‚        â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ“ˆ ä¸Šæ˜‡ãƒˆãƒ”ãƒƒã‚¯                                      â”‚   â”‚
â”‚  â”‚ â€¢ Claude Code (+120%) - YouTube, Qiita              â”‚   â”‚
â”‚  â”‚ â€¢ Gemini 2.5 (+85%) - YouTube                       â”‚   â”‚
â”‚  â”‚ â€¢ React 19 (+45%) - Qiita, Zenn                     â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ğŸ“‰ ä¸‹é™ãƒˆãƒ”ãƒƒã‚¯                                      â”‚   â”‚
â”‚  â”‚ â€¢ ChatGPT (-15%) - è©±é¡ŒãŒä¸€å·¡                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ’¡ ãƒã‚¿ææ¡ˆ                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ 1. ã€ŒClaude Code vs Cursor å¾¹åº•æ¯”è¼ƒã€                â”‚   â”‚
â”‚  â”‚    ç†ç”±: ä¸¡æ–¹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒæ€¥ä¸Šæ˜‡ä¸­                  â”‚   â”‚
â”‚  â”‚    æ¨å¥¨: YouTube (å‹•ç”»ã§è¦‹ã›ã‚„ã™ã„)                  â”‚   â”‚
â”‚  â”‚    ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«: â­â­â­â­â­                          â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ 2. ã€ŒReact 19 ã®æ–°æ©Ÿèƒ½ã‚’å®Ÿå‹™ã§ä½¿ã£ã¦ã¿ãŸã€           â”‚   â”‚
â”‚  â”‚    ç†ç”±: æŠ€è¡“è¨˜äº‹ã§æ¤œè¨¼ç³»ãŒäººæ°—                      â”‚   â”‚
â”‚  â”‚    æ¨å¥¨: Qiita / Zenn                               â”‚   â”‚
â”‚  â”‚    ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«: â­â­â­â­                            â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ 3. ...                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ‘¥ ç«¶åˆåˆ†æ                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ãƒˆãƒƒãƒ—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ¼:                                  â”‚   â”‚
â”‚  â”‚ â€¢ ãƒãƒ£ãƒ³ãƒãƒ«A: é€±3æŠ•ç¨¿ã€å¹³å‡10ä¸‡å†ç”Ÿ                 â”‚   â”‚
â”‚  â”‚ â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼B: é€±2æŠ•ç¨¿ã€å¹³å‡200ã„ã„ã­                  â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³: ç«ãƒ»æœ¨ãƒ»åœŸæ›œæ—¥ãŒå¤šã„                   â”‚   â”‚
â”‚  â”‚ ã‚ˆãä½¿ã‚ã‚Œã‚‹ã‚¿ã‚°: AI, ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°, åˆå¿ƒè€…å‘ã‘     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³                                â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ AIÃ—ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åˆ‡ã‚Šå£ãŒä¼¸ã³ã¦ã„ã‚‹              â”‚   â”‚
â”‚  â”‚ â€¢ 10åˆ†ä»¥å†…ã®å‹•ç”»ãŒå¥½ã¾ã‚Œã‚‹å‚¾å‘                       â”‚   â”‚
â”‚  â”‚ â€¢ ã€Œåˆå¿ƒè€…å‘ã‘ã€ã‚¿ã‚°ã‚’ã¤ã‘ã‚‹ã¨æ¤œç´¢æµå…¥ãŒå¢—ãˆã‚‹       â”‚   â”‚
â”‚  â”‚ â€¢ é€±3å›ä»¥ä¸Šã®æŠ•ç¨¿é »åº¦ã‚’ç¶­æŒã™ã‚‹ã¨æˆé•·ã—ã‚„ã™ã„        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.4 è©³ç´°åˆ†æå®Ÿè¡Œä¸­ã®è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚                    ğŸ”„ åˆ†æä¸­...                             â”‚
â”‚                                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚             â”‚
â”‚         â”‚            35%                      â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚         ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã¦ã„ã¾ã™...                        â”‚
â”‚         ğŸ¤– AIãŒåˆ†æã—ã¦ã„ã¾ã™...                            â”‚
â”‚                                                             â”‚
â”‚         â€» 30ã€œ60ç§’ã»ã©ã‹ã‹ã‚Šã¾ã™                           â”‚
â”‚         â€» ã“ã®ãƒšãƒ¼ã‚¸ã‚’é›¢ã‚Œã¦ã‚‚åˆ†æã¯ç¶™ç¶šã•ã‚Œã¾ã™            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.5 ç›£è¦–è¨­å®šè¿½åŠ ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç›£è¦–è¨­å®šè¿½åŠ                       [Ã—]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Step 1: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é¸æŠ                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ YouTube â”‚ â”‚  Qiita  â”‚ â”‚  Zenn   â”‚                       â”‚
â”‚  â”‚   ğŸ¬    â”‚ â”‚   ğŸ“    â”‚ â”‚   ğŸ“˜    â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                             â”‚
â”‚  Step 2: ã‚¿ã‚¤ãƒ—é¸æŠ                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ğŸ” ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰   â”‚ â”‚ ğŸ‘¤ ãƒãƒ£ãƒ³ãƒãƒ«/ãƒ¦ãƒ¼ã‚¶ãƒ¼â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â”‚  Step 3: å…¥åŠ›                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ğŸ” æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›...                   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â”‚  Step 4: å–å¾—ä»¶æ•°                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚  Lite  â”‚ â”‚  Deep  â”‚ â”‚  Max   â”‚                          â”‚
â”‚  â”‚ 50ä»¶   â”‚ â”‚ 100ä»¶  â”‚ â”‚ 200ä»¶  â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                             â”‚
â”‚                              [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ç™»éŒ²ã™ã‚‹]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. å¤–éƒ¨APIä»•æ§˜

### 13.1 Gemini API

| é …ç›®           | å†…å®¹                                                                                       |
| -------------- | ------------------------------------------------------------------------------------------ |
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent` |
| èªè¨¼           | API ã‚­ãƒ¼                                                                                   |
| ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ | 15 RPMï¼ˆç„¡æ–™æ ï¼‰/ 1000 RPMï¼ˆæœ‰æ–™ï¼‰                                                         |
| æ–™é‡‘           | å…¥åŠ›: $0.075/1M tokens, å‡ºåŠ›: $0.30/1M tokens                                              |

### 13.2 YouTube Data API v3

| é …ç›®               | å†…å®¹                                                        |
| ------------------ | ----------------------------------------------------------- |
| ä½¿ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | search.list, channels.list, playlistItems.list, videos.list |
| ã‚¯ã‚©ãƒ¼ã‚¿æ¶ˆè²»       | ç´„100ã€œ150ãƒ¦ãƒ‹ãƒƒãƒˆ/æ¤œç´¢                                     |
| 1æ—¥ã®ä¸Šé™          | 10,000ãƒ¦ãƒ‹ãƒƒãƒˆ                                              |

### 13.3 Qiita API v2

| é …ç›®               | å†…å®¹                                       |
| ------------------ | ------------------------------------------ |
| ä½¿ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `/api/v2/users/:id/items`, `/api/v2/items` |
| ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆ     | èªè¨¼ã‚ã‚Š: 1,000å›/æ™‚                       |
| 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸Šé™    | 100ä»¶                                      |

### 13.4 Zenn å†…éƒ¨API

| é …ç›®               | å†…å®¹                            |
| ------------------ | ------------------------------- |
| ä½¿ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | `/api/articles`                 |
| èªè¨¼               | ä¸è¦                            |
| æ³¨æ„               | éå…¬å¼APIã€ä»•æ§˜å¤‰æ›´ã®å¯èƒ½æ€§ã‚ã‚Š |

---

## 14. å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 2a: åŸºç›¤æ§‹ç¯‰ï¼ˆWeek 1-2ï¼‰

| ã‚¿ã‚¹ã‚¯               | è©³ç´°                       | å„ªå…ˆåº¦ |
| -------------------- | -------------------------- | ------ |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒãƒ¼ãƒ  | YouTubeã‚¹ã‚³ãƒ¼ãƒ— â†’ PrepFeed | é«˜     |
| Supabaseè¨­å®š         | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã€RLSè¨­å®š    | é«˜     |
| èªè¨¼å®Ÿè£…             | Supabase Authï¼ˆGoogleï¼‰    | é«˜     |
| åŸºæœ¬UI               | ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ•ãƒƒã‚¿ãƒ¼æ›´æ–°     | ä¸­     |

### Phase 2b: ç„¡æ–™æ©Ÿèƒ½æ‹¡å¼µï¼ˆWeek 3-4ï¼‰

| ã‚¿ã‚¹ã‚¯             | è©³ç´°                         | å„ªå…ˆåº¦ |
| ------------------ | ---------------------------- | ------ |
| Qiita APIçµ±åˆ      | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ | é«˜     |
| Zenn APIçµ±åˆ       | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ | é«˜     |
| å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ArticleCardã€ArticleList     | é«˜     |
| ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½         | ã„ã„ã­æ•°ã€æŠ•ç¨¿æ—¥ã€ã‚¹ãƒˆãƒƒã‚¯æ•° | ä¸­     |

### Phase 2c: æœ‰æ–™æ©Ÿèƒ½å®Ÿè£…ï¼ˆWeek 5-7ï¼‰

| ã‚¿ã‚¹ã‚¯                 | è©³ç´°                       | å„ªå…ˆåº¦ |
| ---------------------- | -------------------------- | ------ |
| ç›£è¦–è¨­å®šUI             | è¿½åŠ ã€ç·¨é›†ã€å‰Šé™¤           | é«˜     |
| ãƒ‡ãƒ¼ã‚¿åé›†             | collected_data ã¸ã® Upsert | é«˜     |
| Gemini APIçµ±åˆ         | ç°¡æ˜“åˆ†æã®å®Ÿè£…             | é«˜     |
| ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ– | è©³ç´°åˆ†æã®å®Ÿè£…             | é«˜     |
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰         | åˆ†æçµæœã‚«ãƒ¼ãƒ‰è¡¨ç¤º         | é«˜     |
| ãƒãƒƒãƒå‡¦ç†             | Vercel Cronè¨­å®š            | é«˜     |

### Phase 2d: ä»•ä¸Šã’ï¼ˆWeek 8-9ï¼‰

| ã‚¿ã‚¹ã‚¯             | è©³ç´°                            | å„ªå…ˆåº¦ |
| ------------------ | ------------------------------- | ------ |
| ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½   | Google Sheetsé€£æºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ | ä¸­     |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | å…¨APIã®ã‚¨ãƒ©ãƒ¼å‡¦ç†å¼·åŒ–           | ä¸­     |
| ãƒ­ã‚°æ©Ÿèƒ½           | å–å¾—ãƒ­ã‚°ã®ä¿å­˜ãƒ»è¡¨ç¤º            | ä¸­     |
| Edge Runtimeå¯¾å¿œ   | Cloudflareç§»è¡Œæº–å‚™              | ä¸­     |
| ãƒ†ã‚¹ãƒˆ             | E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…                   | ä½     |

---

## 15. å°†æ¥æ‹¡å¼µ

### Phase 3 ä»¥é™ã®å€™è£œ

| æ©Ÿèƒ½               | èª¬æ˜                   | å„ªå…ˆåº¦ |
| ------------------ | ---------------------- | ------ |
| èª²é‡‘æ©Ÿèƒ½           | Stripeé€£æº             | é«˜     |
| Cloudflareç§»è¡Œ     | æœ¬ç•ªç’°å¢ƒç§»è¡Œ           | é«˜     |
| TikTokå¯¾å¿œ         | çŸ­å°ºå‹•ç”»ãƒˆãƒ¬ãƒ³ãƒ‰       | ä¸­     |
| noteå¯¾å¿œ           | æ—¥æœ¬èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„       | ä¸­     |
| é€šçŸ¥æ©Ÿèƒ½           | ãƒ¡ãƒ¼ãƒ«/Slacké€šçŸ¥       | ä½     |
| ãƒãƒ¼ãƒ æ©Ÿèƒ½         | è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å…±æœ‰     | ä½     |
| ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | åˆ†æè¦³ç‚¹ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º | ä½     |

---

## ä»˜éŒ²

### A. ç’°å¢ƒå¤‰æ•°ä¸€è¦§

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
SUPABASE_SERVICE_ROLE_KEY=xxx

# Gemini API
GEMINI_API_KEY=xxx

# YouTube
YOUTUBE_API_KEY=xxx

# Qiita
QIITA_ACCESS_TOKEN=xxx

# Google OAuth (Sheetsã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”¨ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
GOOGLE_CLIENT_ID=xxx
GOOGLE_CLIENT_SECRET=xxx
GOOGLE_REDIRECT_URI=https://prepfeed.vercel.app/api/google/callback

# Vercel KV
KV_REST_API_URL=xxx
KV_REST_API_TOKEN=xxx

# ãã®ä»–
NEXT_PUBLIC_SITE_URL=https://prepfeed.vercel.app
CRON_SECRET=xxx  # ãƒãƒƒãƒAPIä¿è­·ç”¨
```

### B. vercel.json

```json
{
  "crons": [
    {
      "path": "/api/batch",
      "schedule": "0 18 * * *"
    }
  ]
}
```

### C. å‹å®šç¾©

```typescript
// ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
type Platform = 'youtube' | 'qiita' | 'zenn';

// ç›£è¦–ã‚¿ã‚¤ãƒ—
type MonitorType = 'keyword' | 'channel' | 'user';

// å–å¾—ä»¶æ•°
type FetchCount = 50 | 100 | 200;

// åˆ†æã‚¿ã‚¤ãƒ—
type AnalysisType = 'simple' | 'detailed';

// ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
type JobStatus = 'queued' | 'processing' | 'completed' | 'failed';

// ç›£è¦–è¨­å®š
interface MonitorSetting {
  id: string;
  user_id: string;
  platform: Platform;
  type: MonitorType;
  value: string;
  display_name?: string;
  fetch_count: FetchCount;
  is_active: boolean;
  last_fetched_at?: string;
  created_at: string;
  updated_at: string;
}

// åé›†ãƒ‡ãƒ¼ã‚¿
interface CollectedData {
  id: string;
  user_id: string;
  setting_id: string;
  platform: Platform;
  content_id: string;
  title: string;
  url: string;
  published_at: string;
  author_id?: string;
  author_name?: string;
  views?: number;
  likes?: number;
  comments?: number;
  stocks?: number;
  duration?: string;
  tags?: string[];
  growth_rate?: number;
  collected_at: string;
}

// ç°¡æ˜“åˆ†æçµæœ
interface SimpleAnalysisResult {
  trend_score: number;
  summary: string;
  top_contents: Array<{
    id: string;
    title: string;
    reason: string;
  }>;
  keywords: string[];
  generated_at: string;
}

// è©³ç´°åˆ†æçµæœ
interface DetailedAnalysisResult {
  trend_analysis: {
    summary: string;
    rising_topics: Array<{
      topic: string;
      growth: string;
      platforms: Platform[];
    }>;
    declining_topics: Array<{
      topic: string;
      decline: string;
    }>;
  };
  content_ideas: Array<{
    title: string;
    reason: string;
    platform_recommendation: Platform;
    estimated_potential: string;
  }>;
  competitor_analysis: {
    top_performers: Array<{
      name: string;
      platform: Platform;
      stats: string;
    }>;
    posting_patterns: string;
    common_tags: string[];
  };
  recommendations: string[];
  generated_at: string;
}

// åˆ†æçµæœ
interface AnalysisResult {
  id: string;
  user_id: string;
  setting_id?: string;
  analysis_type: AnalysisType;
  status: JobStatus;
  result?: SimpleAnalysisResult | DetailedAnalysisResult;
  error_message?: string;
  created_at: string;
  completed_at?: string;
}
```

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆçµ‚äº†**
